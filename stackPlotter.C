#include "SetStyle.C"

#include "TH1F.h"

#include "TPaveText.h"

#include "TLegend.h"

#include "TCanvas.h"

#include "THStack.h"

#include <string>

#include <iostream>

class StackPlotter{
 
public:
void plotS0B0D0( );
void plotS0B0D1( string VarName,TPaveText *txtGen , TH1F *hd, string proc_data);
void plotS0B1D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 );
void plotS0B1D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hd, string proc_data);
void plotS0B2D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 );
void plotS0B2D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hd, string proc_data);
void plotS0B3D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 );
void plotS0B3D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hd, string proc_data);
void plotS0B4D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 );
void plotS0B4D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hd, string proc_data);
void plotS0B5D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 );
void plotS0B5D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hd, string proc_data);
void plotS0B6D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 );
void plotS0B6D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hd, string proc_data);
void plotS0B7D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 );
void plotS0B7D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hd, string proc_data);
void plotS0B8D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 );
void plotS0B8D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hd, string proc_data);
void plotS0B9D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 );
void plotS0B9D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hd, string proc_data);
void plotS0B10D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 );
void plotS0B10D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hd, string proc_data);
void plotS0B11D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 );
void plotS0B11D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hd, string proc_data);
void plotS0B12D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 );
void plotS0B12D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hd, string proc_data);
void plotS0B13D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 );
void plotS0B13D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hd, string proc_data);
void plotS0B14D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 );
void plotS0B14D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hd, string proc_data);
void plotS0B15D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 );
void plotS0B15D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hd, string proc_data);
void plotS0B16D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 );
void plotS0B16D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hd, string proc_data);
void plotS0B17D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 );
void plotS0B17D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hd, string proc_data);
void plotS0B18D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 );
void plotS0B18D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hd, string proc_data);
void plotS0B19D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 );
void plotS0B19D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hd, string proc_data);
void plotS0B20D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 );
void plotS0B20D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hd, string proc_data);
void plotS0B21D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 );
void plotS0B21D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hb21,  string bkg_proc21,  TH1F *hd, string proc_data);
void plotS1B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 );
void plotS1B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hd, string proc_data);
void plotS1B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 );
void plotS1B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hd, string proc_data);
void plotS1B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 );
void plotS1B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hd, string proc_data);
void plotS1B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 );
void plotS1B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hd, string proc_data);
void plotS1B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 );
void plotS1B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hd, string proc_data);
void plotS1B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 );
void plotS1B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hd, string proc_data);
void plotS1B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 );
void plotS1B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hd, string proc_data);
void plotS1B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 );
void plotS1B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hd, string proc_data);
void plotS1B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 );
void plotS1B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hd, string proc_data);
void plotS1B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 );
void plotS1B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hd, string proc_data);
void plotS1B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 );
void plotS1B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hd, string proc_data);
void plotS1B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 );
void plotS1B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hd, string proc_data);
void plotS1B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 );
void plotS1B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hd, string proc_data);
void plotS1B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 );
void plotS1B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hd, string proc_data);
void plotS1B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 );
void plotS1B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hd, string proc_data);
void plotS1B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 );
void plotS1B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hd, string proc_data);
void plotS1B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 );
void plotS1B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hd, string proc_data);
void plotS1B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 );
void plotS1B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hd, string proc_data);
void plotS1B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 );
void plotS1B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hd, string proc_data);
void plotS1B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 );
void plotS1B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hd, string proc_data);
void plotS1B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 );
void plotS1B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hd, string proc_data);
void plotS1B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 );
void plotS1B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hb21,  string bkg_proc21,  TH1F *hd, string proc_data);
void plotS2B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 );
void plotS2B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hd, string proc_data);
void plotS2B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 );
void plotS2B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hd, string proc_data);
void plotS2B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 );
void plotS2B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hd, string proc_data);
void plotS2B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 );
void plotS2B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hd, string proc_data);
void plotS2B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 );
void plotS2B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hd, string proc_data);
void plotS2B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 );
void plotS2B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hd, string proc_data);
void plotS2B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 );
void plotS2B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hd, string proc_data);
void plotS2B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 );
void plotS2B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hd, string proc_data);
void plotS2B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 );
void plotS2B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hd, string proc_data);
void plotS2B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 );
void plotS2B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hd, string proc_data);
void plotS2B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 );
void plotS2B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hd, string proc_data);
void plotS2B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 );
void plotS2B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hd, string proc_data);
void plotS2B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 );
void plotS2B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hd, string proc_data);
void plotS2B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 );
void plotS2B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hd, string proc_data);
void plotS2B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 );
void plotS2B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hd, string proc_data);
void plotS2B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 );
void plotS2B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hd, string proc_data);
void plotS2B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 );
void plotS2B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hd, string proc_data);
void plotS2B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 );
void plotS2B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hd, string proc_data);
void plotS2B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 );
void plotS2B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hd, string proc_data);
void plotS2B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 );
void plotS2B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hd, string proc_data);
void plotS2B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 );
void plotS2B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hd, string proc_data);
void plotS2B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 );
void plotS2B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hb21,  string bkg_proc21,  TH1F *hd, string proc_data);
void plotS3B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 );
void plotS3B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hd, string proc_data);
void plotS3B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 );
void plotS3B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hd, string proc_data);
void plotS3B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 );
void plotS3B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hd, string proc_data);
void plotS3B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 );
void plotS3B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hd, string proc_data);
void plotS3B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 );
void plotS3B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hd, string proc_data);
void plotS3B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 );
void plotS3B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hd, string proc_data);
void plotS3B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 );
void plotS3B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hd, string proc_data);
void plotS3B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 );
void plotS3B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hd, string proc_data);
void plotS3B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 );
void plotS3B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hd, string proc_data);
void plotS3B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 );
void plotS3B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hd, string proc_data);
void plotS3B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 );
void plotS3B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hd, string proc_data);
void plotS3B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 );
void plotS3B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hd, string proc_data);
void plotS3B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 );
void plotS3B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hd, string proc_data);
void plotS3B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 );
void plotS3B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hd, string proc_data);
void plotS3B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 );
void plotS3B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hd, string proc_data);
void plotS3B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 );
void plotS3B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hd, string proc_data);
void plotS3B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 );
void plotS3B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hd, string proc_data);
void plotS3B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 );
void plotS3B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hd, string proc_data);
void plotS3B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 );
void plotS3B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hd, string proc_data);
void plotS3B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 );
void plotS3B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hd, string proc_data);
void plotS3B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 );
void plotS3B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hd, string proc_data);
void plotS3B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 );
void plotS3B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hb21,  string bkg_proc21,  TH1F *hd, string proc_data);
void plotS4B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 );
void plotS4B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hd, string proc_data);
void plotS4B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 );
void plotS4B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hd, string proc_data);
void plotS4B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 );
void plotS4B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hd, string proc_data);
void plotS4B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 );
void plotS4B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hd, string proc_data);
void plotS4B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 );
void plotS4B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hd, string proc_data);
void plotS4B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 );
void plotS4B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hd, string proc_data);
void plotS4B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 );
void plotS4B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hd, string proc_data);
void plotS4B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 );
void plotS4B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hd, string proc_data);
void plotS4B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 );
void plotS4B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hd, string proc_data);
void plotS4B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 );
void plotS4B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hd, string proc_data);
void plotS4B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 );
void plotS4B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hd, string proc_data);
void plotS4B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 );
void plotS4B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hd, string proc_data);
void plotS4B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 );
void plotS4B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hd, string proc_data);
void plotS4B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 );
void plotS4B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hd, string proc_data);
void plotS4B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 );
void plotS4B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hd, string proc_data);
void plotS4B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 );
void plotS4B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hd, string proc_data);
void plotS4B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 );
void plotS4B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hd, string proc_data);
void plotS4B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 );
void plotS4B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hd, string proc_data);
void plotS4B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 );
void plotS4B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hd, string proc_data);
void plotS4B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 );
void plotS4B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hd, string proc_data);
void plotS4B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 );
void plotS4B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hd, string proc_data);
void plotS4B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1 , TH1F *hs2 , string sig_proc2 , TH1F *hs3 , string sig_proc3 , TH1F *hs4 , string sig_proc4 ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 );
void plotS4B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1,  TH1F *hs2,  string sig_proc2,  TH1F *hs3,  string sig_proc3,  TH1F *hs4,  string sig_proc4,  TH1F *hb1,  string bkg_proc1,  TH1F *hb2,  string bkg_proc2,  TH1F *hb3,  string bkg_proc3,  TH1F *hb4,  string bkg_proc4,  TH1F *hb5,  string bkg_proc5,  TH1F *hb6,  string bkg_proc6,  TH1F *hb7,  string bkg_proc7,  TH1F *hb8,  string bkg_proc8,  TH1F *hb9,  string bkg_proc9,  TH1F *hb10,  string bkg_proc10,  TH1F *hb11,  string bkg_proc11,  TH1F *hb12,  string bkg_proc12,  TH1F *hb13,  string bkg_proc13,  TH1F *hb14,  string bkg_proc14,  TH1F *hb15,  string bkg_proc15,  TH1F *hb16,  string bkg_proc16,  TH1F *hb17,  string bkg_proc17,  TH1F *hb18,  string bkg_proc18,  TH1F *hb19,  string bkg_proc19,  TH1F *hb20,  string bkg_proc20,  TH1F *hb21,  string bkg_proc21,  TH1F *hd, string proc_data);
};
void StackPlotter::plotS0B0D0( ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg","a;x;y");
TCanvas *c=new TCanvas("c","c");
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B0D1( string VarName,TPaveText *txtGen , TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B1D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B1D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B2D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B2D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B3D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B3D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B4D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B4D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B5D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B5D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B6D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B6D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B7D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B7D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B8D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B8D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B9D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B9D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B10D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B10D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B11D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B11D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B12D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B12D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B13D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B13D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B14D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B14D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B15D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B15D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B16D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B16D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B17D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B17D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B18D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B18D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B19D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B19D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B20D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B20D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B21D0( string VarName,TPaveText *txtGen ,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS0B21D1( string VarName,TPaveText *txtGen , TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hb21,  string bkg_proc21, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS1B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hb21,  string bkg_proc21, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS2B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hb21,  string bkg_proc21, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS3B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hb21,  string bkg_proc21, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B0D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B0D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B1D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B1D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B2D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B2D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B3D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B3D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B4D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B4D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B5D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B5D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B6D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B6D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B7D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B7D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B8D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B8D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B9D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B9D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B10D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B10D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B11D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B11D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B12D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B12D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B13D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B13D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B14D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B14D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B15D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B15D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B16D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B16D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B17D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B17D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B18D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B18D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B19D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B19D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B20D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B20D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B21D0( string VarName,TPaveText *txtGen , TH1F *hs1 , string sig_proc1
, TH1F *hs2 , string sig_proc2
, TH1F *hs3 , string sig_proc3
, TH1F *hs4 , string sig_proc4
,  TH1F *hb1  , string bkg_proc1 ,  TH1F *hb2  , string bkg_proc2 ,  TH1F *hb3  , string bkg_proc3 ,  TH1F *hb4  , string bkg_proc4 ,  TH1F *hb5  , string bkg_proc5 ,  TH1F *hb6  , string bkg_proc6 ,  TH1F *hb7  , string bkg_proc7 ,  TH1F *hb8  , string bkg_proc8 ,  TH1F *hb9  , string bkg_proc9 ,  TH1F *hb10  , string bkg_proc10 ,  TH1F *hb11  , string bkg_proc11 ,  TH1F *hb12  , string bkg_proc12 ,  TH1F *hb13  , string bkg_proc13 ,  TH1F *hb14  , string bkg_proc14 ,  TH1F *hb15  , string bkg_proc15 ,  TH1F *hb16  , string bkg_proc16 ,  TH1F *hb17  , string bkg_proc17 ,  TH1F *hb18  , string bkg_proc18 ,  TH1F *hb19  , string bkg_proc19 ,  TH1F *hb20  , string bkg_proc20 ,  TH1F *hb21  , string bkg_proc21 ){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s; Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

void StackPlotter::plotS4B21D1( string VarName,TPaveText *txtGen , TH1F *hs1,  string sig_proc1, 
TH1F *hs2,  string sig_proc2, 
TH1F *hs3,  string sig_proc3, 
TH1F *hs4,  string sig_proc4, 
TH1F *hb1,  string bkg_proc1, 
TH1F *hb2,  string bkg_proc2, 
TH1F *hb3,  string bkg_proc3, 
TH1F *hb4,  string bkg_proc4, 
TH1F *hb5,  string bkg_proc5, 
TH1F *hb6,  string bkg_proc6, 
TH1F *hb7,  string bkg_proc7, 
TH1F *hb8,  string bkg_proc8, 
TH1F *hb9,  string bkg_proc9, 
TH1F *hb10,  string bkg_proc10, 
TH1F *hb11,  string bkg_proc11, 
TH1F *hb12,  string bkg_proc12, 
TH1F *hb13,  string bkg_proc13, 
TH1F *hb14,  string bkg_proc14, 
TH1F *hb15,  string bkg_proc15, 
TH1F *hb16,  string bkg_proc16, 
TH1F *hb17,  string bkg_proc17, 
TH1F *hb18,  string bkg_proc18, 
TH1F *hb19,  string bkg_proc19, 
TH1F *hb20,  string bkg_proc20, 
TH1F *hb21,  string bkg_proc21, 
TH1F *hd, string proc_data){
using namespace std;
TStyle *gStyle = new TStyle("gStyle","Style for P-TDR");
SetStyle st;
st.SetPars(gStyle);
TPaveText *pCMS = new TPaveText(0.132107,0.9308003,0.8327759,0.9923583,"brNDC");
pCMS->SetBorderSize(0);
pCMS->SetFillStyle(0);
pCMS->SetTextAlign(11);
pCMS->SetTextFont(42);
pCMS->SetTextSize(0.04);
pCMS->AddText("CMS #it{Preliminary}                   36 fb^{-1}, #sqrt{s}= 13 TeV");
TLegend *leg=new TLegend(0.3582943,0.7051483,0.55025753,0.9049564,NULL,"brNDC");
leg->SetTextFont(62);
leg->SetLineColor(1);
leg->SetLineStyle(1);
leg->SetLineWidth(3);
leg->SetFillColor(0);
leg->SetFillStyle(1001);
leg->SetShadowColor(0);
leg->SetDrawOption(0);
leg->SetBorderSize(0);
leg->SetTextSize(0.03);
char Variable[100];
char Cname[100];
const char *Var_Name;
Var_Name=VarName.c_str();
sprintf(Variable," ;%s;Events",Var_Name);
sprintf(Cname,"%s",Var_Name);
THStack *hallbkg=new THStack("hallbkg",Variable);
hb1->SetFillColor(2);
hb1->SetLineColor(1);
hallbkg->Add(hb1);
char h1L_bkg[100];
const char *h1_L_bkg;
h1_L_bkg=bkg_proc1.c_str();
sprintf(h1L_bkg,"%s",h1_L_bkg);
leg->AddEntry(hb1,h1L_bkg,"f");
hb2->SetFillColor(3);
hb2->SetLineColor(1);
hallbkg->Add(hb2);
char h2L_bkg[100];
const char *h2_L_bkg;
h2_L_bkg=bkg_proc2.c_str();
sprintf(h2L_bkg,"%s",h2_L_bkg);
leg->AddEntry(hb2,h2L_bkg,"f");
hb3->SetFillColor(4);
hb3->SetLineColor(1);
hallbkg->Add(hb3);
char h3L_bkg[100];
const char *h3_L_bkg;
h3_L_bkg=bkg_proc3.c_str();
sprintf(h3L_bkg,"%s",h3_L_bkg);
leg->AddEntry(hb3,h3L_bkg,"f");
hb4->SetFillColor(5);
hb4->SetLineColor(1);
hallbkg->Add(hb4);
char h4L_bkg[100];
const char *h4_L_bkg;
h4_L_bkg=bkg_proc4.c_str();
sprintf(h4L_bkg,"%s",h4_L_bkg);
leg->AddEntry(hb4,h4L_bkg,"f");
hb5->SetFillColor(6);
hb5->SetLineColor(1);
hallbkg->Add(hb5);
char h5L_bkg[100];
const char *h5_L_bkg;
h5_L_bkg=bkg_proc5.c_str();
sprintf(h5L_bkg,"%s",h5_L_bkg);
leg->AddEntry(hb5,h5L_bkg,"f");
hb6->SetFillColor(7);
hb6->SetLineColor(1);
hallbkg->Add(hb6);
char h6L_bkg[100];
const char *h6_L_bkg;
h6_L_bkg=bkg_proc6.c_str();
sprintf(h6L_bkg,"%s",h6_L_bkg);
leg->AddEntry(hb6,h6L_bkg,"f");
hb7->SetFillColor(8);
hb7->SetLineColor(1);
hallbkg->Add(hb7);
char h7L_bkg[100];
const char *h7_L_bkg;
h7_L_bkg=bkg_proc7.c_str();
sprintf(h7L_bkg,"%s",h7_L_bkg);
leg->AddEntry(hb7,h7L_bkg,"f");
hb8->SetFillColor(9);
hb8->SetLineColor(1);
hallbkg->Add(hb8);
char h8L_bkg[100];
const char *h8_L_bkg;
h8_L_bkg=bkg_proc8.c_str();
sprintf(h8L_bkg,"%s",h8_L_bkg);
leg->AddEntry(hb8,h8L_bkg,"f");
hb9->SetFillColor(10);
hb9->SetLineColor(1);
hallbkg->Add(hb9);
char h9L_bkg[100];
const char *h9_L_bkg;
h9_L_bkg=bkg_proc9.c_str();
sprintf(h9L_bkg,"%s",h9_L_bkg);
leg->AddEntry(hb9,h9L_bkg,"f");
hb10->SetFillColor(11);
hb10->SetLineColor(1);
hallbkg->Add(hb10);
char h10L_bkg[100];
const char *h10_L_bkg;
h10_L_bkg=bkg_proc10.c_str();
sprintf(h10L_bkg,"%s",h10_L_bkg);
leg->AddEntry(hb10,h10L_bkg,"f");
hb11->SetFillColor(12);
hb11->SetLineColor(1);
hallbkg->Add(hb11);
char h11L_bkg[100];
const char *h11_L_bkg;
h11_L_bkg=bkg_proc11.c_str();
sprintf(h11L_bkg,"%s",h11_L_bkg);
leg->AddEntry(hb11,h11L_bkg,"f");
hb12->SetFillColor(13);
hb12->SetLineColor(1);
hallbkg->Add(hb12);
char h12L_bkg[100];
const char *h12_L_bkg;
h12_L_bkg=bkg_proc12.c_str();
sprintf(h12L_bkg,"%s",h12_L_bkg);
leg->AddEntry(hb12,h12L_bkg,"f");
hb13->SetFillColor(14);
hb13->SetLineColor(1);
hallbkg->Add(hb13);
char h13L_bkg[100];
const char *h13_L_bkg;
h13_L_bkg=bkg_proc13.c_str();
sprintf(h13L_bkg,"%s",h13_L_bkg);
leg->AddEntry(hb13,h13L_bkg,"f");
hb14->SetFillColor(15);
hb14->SetLineColor(1);
hallbkg->Add(hb14);
char h14L_bkg[100];
const char *h14_L_bkg;
h14_L_bkg=bkg_proc14.c_str();
sprintf(h14L_bkg,"%s",h14_L_bkg);
leg->AddEntry(hb14,h14L_bkg,"f");
hb15->SetFillColor(16);
hb15->SetLineColor(1);
hallbkg->Add(hb15);
char h15L_bkg[100];
const char *h15_L_bkg;
h15_L_bkg=bkg_proc15.c_str();
sprintf(h15L_bkg,"%s",h15_L_bkg);
leg->AddEntry(hb15,h15L_bkg,"f");
hb16->SetFillColor(17);
hb16->SetLineColor(1);
hallbkg->Add(hb16);
char h16L_bkg[100];
const char *h16_L_bkg;
h16_L_bkg=bkg_proc16.c_str();
sprintf(h16L_bkg,"%s",h16_L_bkg);
leg->AddEntry(hb16,h16L_bkg,"f");
hb17->SetFillColor(18);
hb17->SetLineColor(1);
hallbkg->Add(hb17);
char h17L_bkg[100];
const char *h17_L_bkg;
h17_L_bkg=bkg_proc17.c_str();
sprintf(h17L_bkg,"%s",h17_L_bkg);
leg->AddEntry(hb17,h17L_bkg,"f");
hb18->SetFillColor(19);
hb18->SetLineColor(1);
hallbkg->Add(hb18);
char h18L_bkg[100];
const char *h18_L_bkg;
h18_L_bkg=bkg_proc18.c_str();
sprintf(h18L_bkg,"%s",h18_L_bkg);
leg->AddEntry(hb18,h18L_bkg,"f");
hb19->SetFillColor(20);
hb19->SetLineColor(1);
hallbkg->Add(hb19);
char h19L_bkg[100];
const char *h19_L_bkg;
h19_L_bkg=bkg_proc19.c_str();
sprintf(h19L_bkg,"%s",h19_L_bkg);
leg->AddEntry(hb19,h19L_bkg,"f");
hb20->SetFillColor(21);
hb20->SetLineColor(1);
hallbkg->Add(hb20);
char h20L_bkg[100];
const char *h20_L_bkg;
h20_L_bkg=bkg_proc20.c_str();
sprintf(h20L_bkg,"%s",h20_L_bkg);
leg->AddEntry(hb20,h20L_bkg,"f");
hb21->SetFillColor(22);
hb21->SetLineColor(1);
hallbkg->Add(hb21);
char h21L_bkg[100];
const char *h21_L_bkg;
h21_L_bkg=bkg_proc21.c_str();
sprintf(h21L_bkg,"%s",h21_L_bkg);
leg->AddEntry(hb21,h21L_bkg,"f");
hs1->SetFillStyle(1);
hs1->SetLineColor(1);
char h1L_sig[100];
const char *h1_L_sig;
h1_L_sig=sig_proc1.c_str();
sprintf(h1L_sig,"%s",h1_L_sig);
leg->AddEntry(hs1,h1L_sig,"l");
hs2->SetFillStyle(1);
hs2->SetLineColor(1);
char h2L_sig[100];
const char *h2_L_sig;
h2_L_sig=sig_proc2.c_str();
sprintf(h2L_sig,"%s",h2_L_sig);
leg->AddEntry(hs2,h2L_sig,"l");
hs3->SetFillStyle(1);
hs3->SetLineColor(1);
char h3L_sig[100];
const char *h3_L_sig;
h3_L_sig=sig_proc3.c_str();
sprintf(h3L_sig,"%s",h3_L_sig);
leg->AddEntry(hs3,h3L_sig,"l");
hs4->SetFillStyle(1);
hs4->SetLineColor(1);
char h4L_sig[100];
const char *h4_L_sig;
h4_L_sig=sig_proc4.c_str();
sprintf(h4L_sig,"%s",h4_L_sig);
leg->AddEntry(hs4,h4L_sig,"l");
hd->SetLineColor(1);
hd->SetMarkerStyle(20);
char hL_data[100];
const char *h_L_data;
h_L_sig=proc_data.c_str();
sprintf(hL_data,"%s",h_L_sig);
leg->AddEntry(hd,hL_data,"p");
TCanvas *c=new TCanvas(Cname,Cname);
c->cd();
hallbkg->Draw("hist");
hallbkg->GetYaxis()->SetTitle("Events");
hallbkg->Draw("hist");
hs1->Draw("same");
hs2->Draw("same");
hs3->Draw("same");
hs4->Draw("same");
hd->Draw("P,E1 SAME");
txtGen->Draw();
pCMS->Draw();
leg->Draw();
c->Write();
}

